(this["webpackJsonpstocks-view-app"]=this["webpackJsonpstocks-view-app"]||[]).push([[0],{18:function(e,t,c){},20:function(e,t,c){},21:function(e,t,c){},23:function(e,t,c){},25:function(e,t,c){},26:function(e,t,c){},27:function(e,t,c){},28:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(13),i=c.n(a),s=c(2),u=["Line","Candle"],o=["Live","1D","1M","1Y","All"],l=u[0],b=o[0],d={AAPL:125,ADBE:470,BABA:225,DIS:185,FB:280,GOOGL:2e3,INTC:65,JPM:155,MSFT:235,NELX:510,NVDA:510,ORCL:70,PEP:145,PYPL:240,QCOM:133,SHW:760,TSLA:618,UNH:335,WMT:135},j=(c(18),c(0)),f=function(e){var t=e.activeRange,c=e.handleRangeSelector,n=function(e){var t=e.target.id;c(t)};return Object(j.jsx)("div",{className:"range-selector",children:o.map((function(e,c){return Object(j.jsx)("div",{id:e,className:"range ".concat(e===t?"active":""),onClick:n,children:e},"".concat(e,"_").concat(c))}))})},h=Object(n.memo)(f),m=(c(20),function(e){var t=e.activeChart,c=e.handleChartSelector;return Object(j.jsx)("div",{className:"chart-selector",children:Object(j.jsx)("select",{value:t,onChange:function(e){var t=e.target.value;c(t)},children:u.map((function(e,t){return Object(j.jsx)("option",{children:e},"".concat(e,"_").concat(t))}))})})}),v=Object(n.memo)(m),O=c(8),p=c(4),g=c(9),S=(c(21),function(e){var t=e.handleAddSymbol,c=Object(n.useState)(""),r=Object(s.a)(c,2),a=r[0],i=r[1],u=Object(n.useState)([]),o=Object(s.a)(u,2),l=o[0],b=o[1],f=Object(n.useCallback)((function(e){var t=e.target.value.trim(),c=t?Object.keys(d).filter((function(e){return e.toLowerCase().includes(t.toLowerCase())})):[];i(t),b(Object(g.a)(c))}),[]);return Object(j.jsxs)("div",{className:"input-wrapper",children:[Object(j.jsx)("input",{placeholder:"Search Symbol...",value:a,onChange:f}),Object(j.jsx)("div",{className:"suggestion-wrapper",children:l.map((function(e){return Object(j.jsxs)("div",{className:"suggestion-box",children:[Object(j.jsx)("div",{children:e}),Object(j.jsx)("div",{className:"add-btn",onClick:function(){return function(e){a&&(t(e,d[e]),i(""),b([]))}(e)},children:"Add"})]},e)}))}),Object(j.jsx)("div",{className:"clear-btn",onClick:function(){a&&(i(""),b([]))},children:"X"})]})}),x=Object(n.memo)(S),C=c(5),y=c.n(C),N=[],k=function(e,t){return new Promise((function(e){var c=[];switch(t){case"1D":c=N.slice(N.length-180);break;case"1M":c=N.slice(1776,1826);break;case"1Y":c=N.slice(1460.8,1826);break;case"All":c=N.slice(0,1826);break;default:c=N.slice(N.length-100)}e(c)}))},w=function(e){var t=y()().unix(),c=d[e];c=L(c-5,c+10);var n=V(0,1,c);return n.time=t,N[N.length-1].time===t?null:(N.push(n),n)},M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,c=1,n=t*parseInt(365/c),r=d[e];N=A(n,c,r);var a=[],i=180,s=y()().unix();a.push({time:s,close:r,open:r-2,high:r+3,low:r-5});for(var u=1;u<i;u++){u%5===0&&r>15&&(r-=Math.random()>.5?5:-3),s-=60;var o=V(u,c,r);o.time=s,a[a.length-1].time===s&&(s-=60,o.time=s),a.push(o)}N=N.concat(a.reverse())},R=function(e){return e.map((function(e){return{time:e.time,value:e.close}}))},V=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=arguments.length>2?arguments[2]:void 0,n=y()().subtract(t*e,"days").format("YYYY-MM-DD"),r=!0,a=c+Y(5,r),i=c+Y(5,r);a=Number(a.toFixed(2));var s=(i=Number(i.toFixed(2)))>a?i+Math.random():a+Math.random();s=Number(s.toFixed(2));var u=i>a?a-Math.random():i-Math.random();return{time:n,close:a,open:i,high:s,low:u=Number(u.toFixed(2))}},A=function(e,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,n=[];n.push({time:y()().format("YYYY-MM-DD"),close:c,open:c-2,high:c+3,low:c-5});for(var r=c,a=1;a<=e;a++){a%5===0&&r>15&&(r-=Math.random()>.5?5:-3);var i=V(a,t,r);n.push(i)}return n.reverse()},L=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=100,n=Math.floor(Math.random()*(e*c-1*c)+1*c)/(1*c);if(t){var r=Math.random()<.5?-1:1;return r*n}return n},D=function(e,t){localStorage.setItem(e,JSON.stringify(t))},E=(c(23),function(e){var t=e.activeSymbol,c=e.currentValueOfActiveSymbol,r=e.handleSelectedSymbol,a=Object(n.useState)(Object(p.a)({},function(e){var t=localStorage.getItem(e);return JSON.parse(t)}("watchlist"))||{}),i=Object(s.a)(a,2),u=i[0],o=i[1];Object(n.useEffect)((function(){var e=Object.keys(u).reduce((function(e,n){if(n===t)e[n]=c;else{var r=u[n];e[n]=Number(L(r-5,r+5))+Number(Math.random().toFixed(2))}return e}),{});o(Object(p.a)({},e))}),[c]);var l=Object(n.useCallback)((function(e,t){u.hasOwnProperty(e)||o((function(c){var n=Object(p.a)(Object(O.a)({},e,t),c);return D("watchlist",n),n}))}),[u]),b=Object(n.useCallback)((function(e,c){e.stopPropagation();var n=Object.keys(u).reduce((function(e,t){return t!==c&&(e[t]=u[t]),e}),{});t===c&&r("",0),D("watchlist",n),o(Object(p.a)({},n))}),[u,t]);return Object(j.jsxs)("div",{className:"stock-list",children:[Object(j.jsx)("div",{className:"heading",children:"Watchlist"}),Object(j.jsx)(x,{handleAddSymbol:l}),Object(j.jsx)("div",{className:"list",children:Object.entries(u).map((function(e,c){var n=Object(s.a)(e,2),a=n[0],i=n[1];return Object(j.jsxs)("div",{className:"symbol ".concat(a===t?"active-symbol":""),onClick:function(){return function(e){r(e,u[e])}(a)},children:[Object(j.jsx)("div",{className:"name",children:a}),Object(j.jsx)("div",{className:"value",children:i}),Object(j.jsx)("div",{className:"remove",onClick:function(e){return b(e,a)},children:"X"})]},"".concat(a))}))})]})}),I=Object(n.memo)(E),P=c(6),F=c.n(P),U=c(12),z=c(10),T=function(e){var t=e.data,c=e.activeSymbol,r=e.activeRange,a=e.handleCurrentValueUpdate,i=Object(n.useRef)(),s=Object(n.useRef)(),u=Object(n.useRef)(),o=Object(n.useRef)(),l=Object(n.useRef)();Object(n.useEffect)((function(){return s.current=Object(z.a)(i.current,{layout:{backgroundColor:"#ffffff",textColor:"rgba(33, 56, 77, 1)"},grid:{vertLines:{color:"rgba(197, 203, 206, 0.7)"},horzLines:{color:"rgba(197, 203, 206, 0.7)"}},timeScale:{timeVisible:!0,secondsVisible:!1},priceScale:{scaleMargins:{top:.3,bottom:.25},borderVisible:!1},timezone:"Asia/Kolkata"}),l.current=new ResizeObserver((function(e){var t=e[0].contentRect,c=t.width,n=t.height;s.current.applyOptions({width:c,height:n}),setTimeout((function(){s.current.timeScale().fitContent()}),0)})),l.current.observe(i.current),b(),function(){f(),l.current.disconnect()}}),[]),Object(n.useEffect)((function(){s.current.removeSeries(u.current),f(),b()}),[t]);var b=function(){u.current=s.current.addCandlestickSeries({title:c}),s.current.timeScale().fitContent(),"1Y"===r||"All"===r?s.current.applyOptions({timeScale:{timeVisible:!1}}):"1M"===r?s.current.applyOptions({timeScale:{rightOffset:5,timeVisible:!1}}):s.current.applyOptions({timeScale:{rightOffset:5,timeVisible:!0}}),u.current.setData(t),d()},d=function(){o.current=setInterval((function(){var e=w(c);null!==e&&("Live"===r&&u.current.update(e),a(e.close))}),1500)},f=function(){o.current&&clearInterval(o.current)};return Object(j.jsx)("div",{ref:i,style:{width:"100%",height:"100%"}})},B=function(e){var t=e.data,c=e.activeSymbol,r=e.activeRange,a=e.handleCurrentValueUpdate,i=Object(n.useRef)(),s=Object(n.useRef)(),u=Object(n.useRef)(),o=Object(n.useRef)(),l=Object(n.useRef)();Object(n.useEffect)((function(){return s.current=Object(z.a)(i.current,{layout:{backgroundColor:"#ffffff",textColor:"rgba(33, 56, 77, 1)"},grid:{vertLines:{color:"rgba(197, 203, 206, 0.7)"},horzLines:{color:"rgba(197, 203, 206, 0.7)"}},timeScale:{timeVisible:!0,secondsVisible:!1},priceScale:{scaleMargins:{top:.3,bottom:.25},borderVisible:!1},timezone:"Asia/Kolkata"}),l.current=new ResizeObserver((function(e){var t=e[0].contentRect,c=t.width,n=t.height;s.current.applyOptions({width:c,height:n}),setTimeout((function(){s.current.timeScale().fitContent()}),0)})),l.current.observe(i.current),b(),function(){f(),l.current.disconnect()}}),[]),Object(n.useEffect)((function(){s.current.removeSeries(u.current),f(),b()}),[t]);var b=function(){u.current=s.current.addLineSeries({title:c}),s.current.timeScale().fitContent(),"1Y"===r||"All"===r?s.current.applyOptions({timeScale:{timeVisible:!1}}):"1M"===r?s.current.applyOptions({timeScale:{rightOffset:5,timeVisible:!1}}):s.current.applyOptions({timeScale:{rightOffset:5,timeVisible:!0}}),u.current.setData(t),d()},d=function(){o.current=setInterval((function(){var e=w(c);null!==e&&(e=R([e])[0],"Live"===r&&u.current.update(e),a(e.value))}),1500)},f=function(){o.current&&clearInterval(o.current)};return Object(j.jsx)("div",{ref:i,style:{width:"100%",height:"100%"}})},J=(c(25),function(e){var t=e.activeSymbol,c=e.activeChart,r=e.activeRange,a=e.handleCurrentValueUpdate,i=Object(n.useState)([]),u=Object(s.a)(i,2),o=u[0],l=u[1];Object(n.useEffect)(Object(U.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(t);case 2:case"end":return e.stop()}}),e)}))),[t]),Object(n.useEffect)((function(){function e(){return(e=Object(U.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(0,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return e.apply(this,arguments)})().then((function(e){l(Object(g.a)(e))}))}),[r,t]);var b=Object(n.useCallback)((function(){switch(c){case"Line":return Object(j.jsx)(B,{data:R(o),activeSymbol:t,activeRange:r,handleCurrentValueUpdate:a});case"Candle":return Object(j.jsx)(T,{data:o,activeSymbol:t,activeRange:r,handleCurrentValueUpdate:a});default:return Object(j.jsx)(B,{data:R(o),activeSymbol:t,activeRange:r,handleCurrentValueUpdate:a})}}),[c,o]);return Object(j.jsx)("div",{className:"chart",children:b()})}),W=Object(n.memo)(J);c(26);var X=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(l),i=Object(s.a)(a,2),u=i[0],o=i[1],f=Object(n.useState)(b),m=Object(s.a)(f,2),O=m[0],p=m[1],g=Object(n.useState)(0),S=Object(s.a)(g,2),x=S[0],C=S[1],y=Object(n.useCallback)((function(e,t){r(e),C(t)}),[]),N=Object(n.useCallback)((function(e){p(e)}),[]),k=Object(n.useCallback)((function(e){o(e)}),[]),w=Object(n.useCallback)((function(e){C(e)}),[]);return Object(j.jsx)("div",{className:"app",children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsxs)("div",{className:"action-bar",children:[Object(j.jsx)("div",{className:"project-name",children:"Stocks View App"}),Object(j.jsx)("div",{className:"status",children:!!c&&Object(j.jsxs)(n.Fragment,{children:[Object(j.jsxs)("span",{className:"current-value",children:[c," : ",x]}),Object(j.jsxs)("span",{className:"percentage",children:["(",function(){var e=d[c],t=(x-e)/e*100,n=x>e?"green":"red";return Object(j.jsx)("span",{className:"".concat(n),children:"".concat(t.toFixed(2),"%")})}(),")"]})]})}),Object(j.jsxs)("div",{className:"selector-container",children:[Object(j.jsx)(h,{activeRange:O,handleRangeSelector:N}),Object(j.jsx)(v,{activeChart:u,handleChartSelector:k})]})]}),Object(j.jsxs)("div",{className:"main",children:[Object(j.jsx)(I,{activeSymbol:c,currentValueOfActiveSymbol:x,handleSelectedSymbol:y}),c?Object(j.jsx)(W,{activeSymbol:c,activeChart:u,activeRange:O,handleCurrentValueUpdate:w}):Object(j.jsx)("div",{className:"warning",children:" Please Add/Select Symbol from Wachlist... "})]})]})})};c(27);i.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(X,{})}),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.abcc07d6.chunk.js.map